<!-- templates/dashboard.html -->
{% extends "layout.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
    <div class="text-center my-4">
        <h1>Consultar Extrato</h1>
    </div>
    <form action="{{ url_for('adm_extrato_tecnico') }}" method="GET">
        <label for="date">Data:</label>
        <input class="form-control" type="date" name="date" id="date" required>
        <br>
        <div align="center">
        <input class="btn btn-primary" type="submit" value="Consultar" style="width: 80%;">
        </div>
    </form>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3/build/global/luxon.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            // Usando Luxon para lidar com o fuso horário
            const DateTime = luxon.DateTime;

            // Obtenha a data atual no fuso horário de São Paulo
            const nowInSaoPaulo = DateTime.now().setZone('America/Sao_Paulo');

            // Formate a data para 'YYYY-MM-DD'
            const formattedDate = nowInSaoPaulo.toFormat('yyyy-MM-dd');

            // Obtenha o elemento de entrada da data
            const dateInput = document.getElementById('date');

            // Defina o valor do campo de data para a data atual em São Paulo
            dateInput.value = formattedDate;
        });
    </script>
{% endblock %}